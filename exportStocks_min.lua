local a=69420;local b=69421;local c={}local d=false;local e=true;local f=0;local g=''local h=''for i,j in ipairs(df.global.world.items.other.IN_PLAY)do if f<a then goto k end;b=b-1;if j.flags.in_building then goto k end;if j.getType==nil then goto k end;g=df.item_type[j:getType()]if g~=nil then h=dfhack.matinfo.decode(j)if h then g=g..'@'..h:getToken()end;c[g]=(c[g]or 0)+j.stack_size end::k::f=f+1;if b==0 then break end end;if b>0 then f=0 end;local l='lastIndex='..tostring(f)..'/'if f==0 then l=l..'completed/'end;for m,n in pairs(c)do l=l..n..'*'..m..'/'end;dfhack.internal.setClipboardTextCp437(l)collectgarbage()